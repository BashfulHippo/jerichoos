INFO : Framebuffer info: FrameBufferInfo { byte_len: 2764800, width: 1280, height: 720, pixel_format: Bgr, bytes_per_pixel: 3, stride: 1280 }
INFO : 4th Stage
INFO : BiosInfo { stage_4: Region { start: 130000, len: 24118 }, kernel: Region { start: 1000000, len: 17cf8 }, ramdisk: Region { start: 1018000, len: 0 }, config_file: Region { start: 1018000, len: 0 }, last_used_addr: 1017fff, framebuffer: BiosFramebufferInfo { region: Region { start: fd000000, len: 2a3000 }, width: 500, height: 2d0, bytes_per_pixel: 3, stride: 500, pixel_format: Bgr }, memory_map_addr: de88, memory_map_len: 6 }
INFO : BIOS boot
INFO : Elf file loaded at Pointer {
    addr: 0x0000000001000000,
    metadata: 97528,
}
INFO : virtual_address_offset: 0x8000000000
INFO : Handling Segment: Ph64(ProgramHeader64 { type_: Ok(Load), flags: Flags(4), offset: 0, virtual_addr: 0, physical_addr: 0, file_size: 3394, mem_size: 3394, align: 1000 })
INFO : Handling Segment: Ph64(ProgramHeader64 { type_: Ok(Load), flags: Flags(5), offset: 33a0, virtual_addr: 43a0, physical_addr: 43a0, file_size: ab5f, mem_size: ab5f, align: 1000 })
INFO : Handling Segment: Ph64(ProgramHeader64 { type_: Ok(Load), flags: Flags(6), offset: df00, virtual_addr: ff00, physical_addr: ff00, file_size: ea0, mem_size: 1100, align: 1000 })
INFO : Mapping bss section
INFO : Handling Segment: Ph64(ProgramHeader64 { type_: Ok(Load), flags: Flags(6), offset: eda0, virtual_addr: 11da0, physical_addr: 11da0, file_size: 88, mem_size: 6200, align: 1000 })
INFO : Mapping bss section
INFO : Entry point at: 0x8000009ab0
INFO : Creating GDT at PhysAddr(0x103f000)
INFO : Map framebuffer
INFO : Map physical memory
INFO : Allocate bootinfo
INFO : Create Memory Map
INFO : Create bootinfo
INFO : Jumping to kernel entry point at VirtAddr(0x8000009ab0)
[INIT] Kernel entry point reached
[INFO] JerichoOS v0.1.0 - Capability Wasm Microkernel
[INFO] IDT loaded, PICs initialized
[IPC] IPC system initialized
[WASM] Runtime initialized (wasmi interpreter)
[INFO] All systems operational
[INFO] JerichoOS booted successfully!
[PERF] Boot time: 3 ms (3211 Âµs, 9634762 cycles)
[TIMER] PIT configured, enabling interrupts
[TIMER] Interrupts enabled
[SCHED] Scheduler initialized
[TEST] Testing multitasking with IPC...
[TEST] Creating tasks (IPC + benchmarks)...
[SCHED] Added task 1 to scheduler
[SCHED] Added task 2 to scheduler
[SCHED] Added task 3 to scheduler
[SCHED] Added task 4 to scheduler
[ OK ] Created 4 tasks: 1, 2, 3, 4
[TEST] Starting multitasking with IPC...
[TEST] About to switch to first task...
[TEST] Jumping to task 1...
[IPC_RECEIVER] Starting, creating endpoint
[IPC_RECEIVER] Endpoint created successfully
[IPC_RECEIVER] Waiting for messages...
[IPC_RECEIVER] Attempting to receive message 0...
[TASK3] Iteration 0
[IPC_RECEIVER] Attempting to receive message 0...
[TASK3] Iteration 1
[IPC_RECEIVER] Attempting to receive message 0...
[BENCH] Starting context switch benchmark...
[TASK3] Iteration 2
[IPC_RECEIVER] Attempting to receive message 0...
[IPC_SENDER] Starting message transmission
[IPC_SENDER] Sending message 0
[IPC_SENDER] Message 0 sent successfully
[TASK3] Iteration 3
[IPC_RECEIVER] Attempting to receive message 0...
[IPC_RECEIVER] Received message from task 2: [65, 48, 0]
[IPC_RECEIVER] Attempting to receive message 1...
[IPC_SENDER] Sending message 1
[IPC_SENDER] Message 1 sent successfully
[TASK3] Iteration 4
[IPC_RECEIVER] Attempting to receive message 1...
[IPC_RECEIVER] Received message from task 2: [66, 49, 0]
[IPC_RECEIVER] Attempting to receive message 2...
[IPC_SENDER] Sending message 2
[IPC_SENDER] Message 2 sent successfully
[TASK3] Completed
[IPC_RECEIVER] Attempting to receive message 2...
[IPC_RECEIVER] Received message from task 2: [67, 50, 0]
[IPC_RECEIVER] All messages received, going idle
[IPC_SENDER] All messages sent, going idle
[BENCH] Context switch benchmark complete:
[BENCH]   10 iterations in 4848324 cycles
[BENCH]   Average: 484832 cycles (161610 ns)

[BENCH] Collecting final benchmark results...

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘         JerichoOS Performance Benchmarks              â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“Š Boot Performance:
  Boot time:        3211 Âµs (3 ms)
  Boot cycles:      9634762

âš¡ Multitasking Performance:
  Context switches: 1
  Avg switch time:  161610 ns (161 Âµs)
  Timer ticks:      1
  Uptime:           10 ms (0 s)

ğŸ¯ Success Criteria:
  Boot < 10ms:      âœ… PASS (3211 Âµs)
  Switch < 5Âµs:     âš ï¸  WARN (161610 ns)

[BENCH] Memory footprint estimation:
  Kernel code:      ~100 KB (estimated)
  Heap allocator:   512 KB
  Task stacks:      96 KB (3 tasks Ã— 32 KB)
  Total estimated:  ~708  KB

[BENCH] Benchmark complete - system continues running
